# Тестовое задание для backend разработчика

Тестовое задание состоит из списка основных и дополнительных задач
Тестовое задание может быть реализовано с использованием любого языка/фреймворка и базы данных (кроме SQLite)

## Задание

Реализовать сервер для создания и управления AR проектами и хранения меток.

### Реализовать

RESTfull API, соответствующее стандарту [json:api](https://jsonapi.org) и позволяющее осуществлять [CRUD-операции](#под-crud-операциями-для-ресурса-подразумевается-следующий-набор-операций-restfull-операций) (если не указано иное) со списком ресурсов (указан ниже)

### Ресурсы

#### 1. Проект

Endpoint: `/api/projects`

Атрибуты:
| Имя поля | Тип поля | Ограничения | Описание    |
| -------- | -------- | ----------- | ----------- |
| name     | string   | уникально   | Имя проекта |

Отношения:

- имеет несколько [токенов](#2-jwt-токены-проекта). Токены не должны отдаваться через API проекта
- имеет несколько [меток](#3-метка)

#### 2. JWT-Токены проекта

Endpoint: `/api/projects/<id проекта>/jwt`

Операции:
| Операция | Результат                                     | Endpoint                         | HTTP verb |
| -------- | --------------------------------------------- | -------------------------------- | --------- |
| Create   | Создает новый токен c `ttl` 2 недели          | `/api/projects/<id проекта>/jwt` | `POST`    |
| Read     | Возвращает список валидных токенов приложения | `/api/projects/<id проекта>/jwt` | `GET`     |
| Update   | Обновляет токен                               | `/api/projects/<id проекта>/jwt` | `PUT`     |
| Delete   | Инвалидирует токен                            | `/api/projects/<id проекта>/jwt` | `DELETE`  |

Для Read, Update, Delete токен должен быть передан в заголовке `Authorization` следующим образом: `Authorization: Bearer <jwt-токен>`
Отношения:

- Принадлежит [проекту](#1-проект)

#### 3. Метка

Для работы с этим ресурсом пользователь должен быть авторизован с использованием [JWT-токена проекта](#2-jwt-токены-проекта). Напоминаем, что для авторизации токен передается в заголовке `Authorization` следующим образом: `Authorization: Bearer <jwt-токен>`

Endpoint: `/api/targets`

Атрибуты:
| Имя поля    | Тип поля | Ограничения | Описание                                   |
| ----------- | -------- | ----------- | ------------------------------------------ |
| description | string   | нет         | Описание метки                             |
| image       | string   | нет         | .jpeg изображение, закодированное в base64 |

Отношения:

- Принадлежит [проекту](#1-проект)

### Дополнительно

#### 1. Реализовать soft-delete для проектов и меток

#### 2. Добавить автоматическое удаление невалидных токенов из БД

Если у токена истек срок действия – удалить.

#### 3. Добавить `Dockerfile` для контейнеризации приложения

#### 4. Добавить `docker-compose.yaml` для развертывания приложения вместе с базой данных

#### 5. Добавить пользователей с авторизацие по логину/паролю

Новый ресурс. CRUD-операции для работы с ним не должны требовать авторизации
Добавить endpoint `/api/login/` для выдачи пользователям jwt-токена. Добавить авторизацию пользователей для работы с проектами (только пользователей, приложение не должно быть авторизовано для каких-либо операций с проектами, только с метками)

#### 6. Добавить админ-панель

Любая готовая админка на ваш выбор. Если есть пользователи – вход по логину/паролю.

#### 7. Развернуть приложение

Развернуть приложение на любом хостинге и добавить `url` в `README.md`

## Примечания

#### Под CRUD-операциями для ресурса подразумевается следующий набор RESTfull операций

| Операция | Результат                          | Endpoint                          | HTTP verb       |
| -------- | ---------------------------------- | --------------------------------- | --------------- |
| Create   | Создает ресурс                     | `<endpoint ресурса>`              | `POST`          |
| Read     | Возвращает список ресурcов         | `<endpoint ресурса>`              | `GET`           |
| Read     | Возвращает один ресурс по его `id` | `<endpoint ресурса>/<id ресурса>` | `GET`           |
| Update   | Обновляет ресурс по его `id`       | `<endpoint ресурса>/<id ресурса>` | `PUT` / `PATCH` |
| Delete   | Удаляет ресурс по его `id`         | `<endpoint ресурса>/<id ресурса>` | `DELETE`        |

## Оценивание

При оценивании будет учитываться:

- Качество и консистентность кода
- Структура проекта
- Процент выполненых задач
- Скорость выполнения задания
- Умение работать с git

## Результат выполнения задания

Результатом выполнения задачи является git-репозиторий с проектом залитым на GitHub и инструкцией по запуску в `README.md`
